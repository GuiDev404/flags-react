var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{P as l,R as s,u as o,L as c,a as i,C as m,N as u,b as d,c as p,B as f,S as g,d as h,e as E}from"./vendor.35300ff0.js";const y=({imgUrl:e,countryName:t,info:a,borderCountries:r,singleFlag:n,id:l})=>{const{push:c}=o();return s.createElement("div",{onClick:()=>{c(`/country/${l}`)},className:""+(n?"single-flag":"flag")},s.createElement("img",{src:e,title:t,loading:"lazy",className:"flag__img",alt:`Flag of ${t}`}),s.createElement("div",{className:"flag__content"},s.createElement("h2",{className:"flag__content-title"},t),s.createElement("div",{className:n?"grid":""},a.map((e=>s.createElement("p",{key:e.name}," ",s.createElement("strong",null," ",e.name,": ")," ",e.value," ")))),n&&s.createElement(s.Fragment,null,s.createElement("strong",{className:"border-country-name"}," Border Countries: "),r.map((e=>s.createElement("span",{key:e,className:"border-country"}," ",e," "))))))};y.propTypes={imgUrl:l.string.isRequired,countryName:l.string.isRequired,info:l.arrayOf(l.object).isRequired,borderCountries:l.arrayOf(l.string),singleFlag:l.bool,id:l.string.isRequired};var b=s.memo(y);const v=({isAnchor:e,link:t,styles:a,children:r,handleClick:n})=>e?s.createElement(c,{to:t||"",className:a}," ",r," "):s.createElement("button",{className:a,onClick:n}," ",r," ");v.propTypes={isAnchor:l.bool,link:l.string,styles:l.string,children:l.oneOfType([l.arrayOf(l.node),l.node]).isRequired,handleClick:l.func};const N=({flags_request:e})=>{const{code:t}=i(),{response:a,isLoading:r,error:n}=e;if(r)return null;{if(n)return console.log(n);const[e]=a.filter((e=>e.alpha2Code===t)),r=()=>window.history.back();return s.createElement(s.Fragment,null,s.createElement(v,{handleClick:r,styles:"btn-back"},s.createElement("i",{className:"fas fa-long-arrow-alt-left"}),"Back"),s.createElement(b,{singleFlag:!0,id:e.alpha2Code,imgUrl:e.flag,countryName:e.name,info:[{name:"Native Name",value:e.nativeName},{name:"Population",value:e.population},{name:"Region",value:e.region},{name:"Sub Region",value:e.subregion},{name:"Capital",value:e.capital},{name:"Top Level Domain",value:e.topLevelDomain.join(", ")},{name:"Currencies",value:e.currencies.map((e=>e.name)).join(", ")},{name:"Languages",value:e.languages.map((e=>e.name)).join(", ")}],borderCountries:e.borders}))}};N.propTypes={flags_request:l.object.isRequired};const _=({flags:e})=>e.map((e=>s.createElement(b,{key:e.alpha2Code,id:e.alpha2Code,imgUrl:e.flag,countryName:e.name,info:[{name:"Population",value:e.population},{name:"Region",value:e.region},{name:"Capital",value:e.capital}]})));_.propTypes={flags:l.array.isRequired};var k=s.memo(_);const C=e=>s.createElement(m,((e,l)=>{for(var s in l||(l={}))a.call(l,s)&&n(e,s,l[s]);if(t)for(var s of t(l))r.call(l,s)&&n(e,s,l[s]);return e})({height:332,width:310,speed:2,style:{marginTop:"2.5em"},backgroundColor:"#ffffff",foregroundColor:"#ecebeb"},e),s.createElement("rect",{x:"58",y:"10",width:"300",height:"330"}));const w=e=>e.toLowerCase(),q=({flags_request:e,search:t})=>{const{response:a,isLoading:r,error:n}=e,{region:l}=i();if(r)return[...Array(15).keys()].map((e=>s.createElement(C,{key:e})));{const e=l&&"all"!==l?a.filter((e=>w(e.region)===l)).slice(0,20):a.slice(0,20),r=e&&e.filter((e=>w(e.name).includes(t)));return n&&console.log(n),s.createElement("div",{className:"flags"},r.length?s.createElement(k,{flags:r}):s.createElement("h2",{className:"no-results"},"There are no countries for the ",t))}};q.propTypes={flags_request:l.object,search:l.string.isRequired};var R=s.memo(q);const j=({search:e,setSearch:t})=>s.createElement("form",{onSubmit:e=>e.preventDefault(),className:"form-search d-flex justify-content-between"},s.createElement("label",{htmlFor:"country-search",className:"form-search__label"},s.createElement("i",{className:"fas fa-search"})),s.createElement("input",{type:"text",id:"country-search",value:e,onChange:e=>t(e.target.value.toLowerCase()),placeholder:"Search for a country...",className:"form-search__input"}),e.length>=1&&s.createElement("button",{className:"form-search__reset",onClick:()=>t("")},s.createElement("i",{className:"fas fa-times"})));j.propTypes={search:l.string.isRequired,setSearch:l.func.isRequired};const S=({list:e,toggleVisibility:t})=>s.createElement("ul",{className:"dropdown__list",style:t},e.map((e=>s.createElement("li",{key:e},s.createElement(u,{to:`/${e.toLowerCase()}`,className:"anchor_list"}," ",e," ")))));S.propTypes={list:l.arrayOf(l.string).isRequired,toggleVisibility:l.object.isRequired};const T=["All","Africa","Americas","Asia","Europe","Oceania"];var x=s.memo((()=>{const[e,t]=d.exports.useState(!1);return s.createElement("div",{className:"dropdown"},s.createElement("div",{className:"dropdown__title",onClick:()=>t((e=>!e))},s.createElement("span",null,"Filter by region"),s.createElement("i",{className:"fas fa-angle-down"})),s.createElement(S,{list:T,toggleVisibility:{display:e?"inherit":"none"}}))}));const O=({children:e})=>s.createElement("header",{className:"d-flex justify-content-between align-items-center header_search_dropdown"},e);O.propTypes={children:l.oneOfType([l.arrayOf(l.node),l.node]).isRequired};const L=({flags_request:e})=>{const[t,a]=d.exports.useState("");return s.createElement(s.Fragment,null,s.createElement(O,null,s.createElement(j,{search:t,setSearch:a}),s.createElement(x,null)),s.createElement(R,{flags_request:e,search:t}))};L.propTypes={flags_request:l.object.isRequired};const F=()=>s.createElement("div",{className:"not-found"},s.createElement(v,{isAnchor:!0,link:"/",styles:"btn-back"},s.createElement("i",{className:"fas fa-long-arrow-alt-left"}),"Back"),s.createElement("div",{className:"container"},s.createElement("h1",{className:"title"},"404 Not Found"),s.createElement("img",{src:"/assets/not_found_fallback.3de79771.jpg",alt:"revolucion francesa bandera"})));var A=s.memo((()=>{const[e,t]=d.exports.useState(!0);function a(e){t(e.matches)}return d.exports.useEffect((()=>{const e=window.matchMedia("(prefers-color-scheme: dark)");return e.addEventListener("change",a),t(e.matches),()=>{e.removeEventListener("change",a)}}),[]),d.exports.useEffect((()=>{const t=e?"dark-theme":"light-theme";document.documentElement.setAttribute("theme",t)}),[e]),s.createElement("header",{className:"header__nav"},s.createElement("nav",{className:"navbar"},s.createElement("div",{className:"content"},s.createElement("h1",null,s.createElement(c,{to:"/",className:"navbar__brand"},"Where in the world?")),s.createElement("button",{className:"btn__theme",onClick:()=>{t(!e)},type:"button"},s.createElement("i",{className:(e?"fas":"far")+" fa-moon"}),s.createElement("small",null," Dark Mode ")))))}));const P=p.create({baseURL:"https://restcountries.eu/rest/v2/all",headers:{accept:"application/json","Content-Type":"application/json"}});function B(e=""){const[t,a]=d.exports.useState(!0),[r,n]=d.exports.useState(null),[l,s]=d.exports.useState("");return d.exports.useEffect((()=>{a(!0),async function({url:e=""}={}){try{return(await P.get(e)).data}catch(l){console.log(l)}}({url:e}).then((e=>n(e))).catch((e=>s(e))).finally((()=>a(!1)))}),[]),{response:r,error:l,isLoading:t}}function U(){const e=B();return s.createElement("main",{className:"main-wrapper"},s.createElement(f,null,s.createElement(A,null),s.createElement("div",{className:"container"},s.createElement(g,null,s.createElement(h,{path:["/","/:region"],exact:!0},s.createElement(L,{flags_request:e})),s.createElement(h,{path:"/country/:code"},s.createElement(N,{flags_request:e})),s.createElement(h,{path:"*",component:F})))))}E.render(s.createElement(s.StrictMode,null,s.createElement(U,null)),document.getElementById("root"));
